@import "tailwindcss";

:root {
  --background: #f9fafb;
  --foreground: #171717;
  
  --primary-50: #f7fee7;
  --primary-100: #ecfccb;
  --primary-200: #d9f99d;
  --primary-300: #bef264;
  --primary-400: #a3e635;
  --primary-500: #84cc16;
  --primary-600: #65a30d;
  --primary-700: #4d7c0f;
  --primary-800: #3f6212;
  --primary-900: #365314;

  --accent-50: #ecfdf5;
  --accent-100: #d1fae5;
  --accent-200: #a7f3d0;
  --accent-300: #6ee7b7;
  --accent-400: #34d399;
  --accent-500: #10b981;
  --accent-600: #059669;
  --accent-700: #047857;
  --accent-800: #065f46;
  --accent-900: #064e3b;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  
  /* Primary colors */
  --color-primary-50: var(--primary-50);
  --color-primary-100: var(--primary-100);
  --color-primary-200: var(--primary-200);
  --color-primary-300: var(--primary-300);
  --color-primary-400: var(--primary-400);
  --color-primary-500: var(--primary-500);
  --color-primary-600: var(--primary-600);
  --color-primary-700: var(--primary-700);
  --color-primary-800: var(--primary-800);
  --color-primary-900: var(--primary-900);
  
  /* Accent colors */
  --color-accent-50: var(--accent-50);
  --color-accent-100: var(--accent-100);
  --color-accent-200: var(--accent-200);
  --color-accent-300: var(--accent-300);
  --color-accent-400: var(--accent-400);
  --color-accent-500: var(--accent-500);
  --color-accent-600: var(--accent-600);
  --color-accent-700: var(--accent-700);
  --color-accent-800: var(--accent-800);
  --color-accent-900: var(--accent-900);
  
  /* AI button colors */
  --color-ai-50: #f0e6ff;
  --color-ai-100: #d9b8ff;
  --color-ai-200: #c28aff;
  --color-ai-300: #ab5cff;
  --color-ai-400: #942eff;
  --color-ai-500: #7d00ff;
  --color-ai-600: #6b00d6;
  --color-ai-700: #5900ad;
  --color-ai-800: #470084;
  --color-ai-900: #35005b;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Cabin, 'Merriweather Sans', serif;
}

/* RTL / Arabic support */
html[dir="rtl"] body {
  font-family: var(--font-noto-arabic), 'Noto Sans Arabic', Cabin, 'Merriweather Sans', sans-serif;
}

/* Auto-flip directional margins for RTL */
html[dir="rtl"] .ml-1 { margin-left: 0; margin-right: 0.25rem; }
html[dir="rtl"] .ml-2 { margin-left: 0; margin-right: 0.5rem; }
html[dir="rtl"] .ml-3 { margin-left: 0; margin-right: 0.75rem; }
html[dir="rtl"] .ml-4 { margin-left: 0; margin-right: 1rem; }
html[dir="rtl"] .ml-6 { margin-left: 0; margin-right: 1.5rem; }
html[dir="rtl"] .ml-7 { margin-left: 0; margin-right: 1.75rem; }
html[dir="rtl"] .mr-1 { margin-right: 0; margin-left: 0.25rem; }
html[dir="rtl"] .mr-2 { margin-right: 0; margin-left: 0.5rem; }
html[dir="rtl"] .mr-3 { margin-right: 0; margin-left: 0.75rem; }
html[dir="rtl"] .mr-4 { margin-right: 0; margin-left: 1rem; }

/* Flip space-x for RTL */
html[dir="rtl"] .space-x-2 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 1;
}
html[dir="rtl"] .space-x-3 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 1;
}

/* Flip -space-x for avatar stacks in RTL */
html[dir="rtl"] .-space-x-2 > :not([hidden]) ~ :not([hidden]) {
  --tw-space-x-reverse: 1;
}

/* Ensure text-left/text-right respects RTL */
html[dir="rtl"] .text-left { text-align: right; }
html[dir="rtl"] .text-right { text-align: left; }
html[dir="rtl"] .md\:text-left { text-align: right; }

/* Smooth completion animation */
@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes successPulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
  }
  50% {
    box-shadow: 0 0 0 15px rgba(34, 197, 94, 0);
  }
}

.animate-fade-in-scale {
  animation: fadeInScale 0.3s ease-out forwards;
}

.animate-fade-in-up {
  animation: fadeInUp 0.4s ease-out forwards;
}

.animate-success-pulse {
  animation: successPulse 1s ease-in-out;
}

/* Fade out animations */
@keyframes fadeOutScale {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(1.05);
  }
}

.animate-fade-out-scale {
  animation: fadeOutScale 0.4s ease-in forwards;
}

/* Print styles â€” prints the lesson plan and visual schedule together */
@media print {
  /* Hide everything first */
  body * {
    visibility: hidden;
  }
  
  /* Show the printable content and all its children */
  #printable-content,
  #printable-content * {
    visibility: visible !important;
  }
  
  /* Position printable content for full-page print */
  #printable-content {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    border: none !important;
    box-shadow: none !important;
    padding: 24px !important;
    margin: 0 !important;
    border-radius: 0 !important;
  }
  
  /* Ensure colors print */
  #printable-content * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Hide buttons, action bars, and interactive elements when printing */
  #printable-content button,
  #printable-content [class*="group-hover"],
  #printable-content .no-print {
    display: none !important;
  }
  
  /* Keep the lesson content header visible but hide action buttons in it */
  #printable-content > div:first-child button {
    display: none !important;
  }
  
  /* But show the lesson title/meta info */
  #printable-content > div:first-child > div:first-child {
    display: flex !important;
    visibility: visible !important;
  }
  
  /* Visual schedule cards: clean borders, no hover effects */
  .print-visual-schedule {
    border: 2px solid #e5e7eb !important;
    border-radius: 12px !important;
    page-break-inside: avoid;
  }
  
  .print-visual-schedule div[draggable] {
    border: 2px solid #374151 !important;
    background: white !important;
    cursor: default !important;
  }
  
  /* Ensure pictogram images print */
  .print-visual-schedule img {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Section headers keep their colors */
  #printable-content h4 {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    page-break-after: avoid;
  }
  
  /* Avoid page breaks inside lesson sections */
  #printable-content h2,
  #printable-content h3,
  #printable-content h4 {
    page-break-after: avoid;
  }
  
  #printable-content ul,
  #printable-content ol {
    page-break-inside: avoid;
  }
  
  /* Visual schedule section should start on new page if needed */
  #visual-schedule {
    page-break-before: auto;
    page-break-inside: avoid;
  }
  
  /* Hide refine input, edit area when printing */
  #printable-content textarea,
  #printable-content input {
    display: none !important;
  }
}
